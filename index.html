<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <!-- SECURITY: Prevent MIME type sniffing attacks (OWASP) -->
    <meta http-equiv="X-Content-Type-Options" content="nosniff" />
    <!-- SECURITY: Content Security Policy (OWASP A05:2021) -->
    <meta http-equiv="Content-Security-Policy"
        content="default-src 'self'; script-src 'self' 'unsafe-inline' 'unsafe-eval' https://www.google.com https://www.gstatic.com https://*.googleapis.com; style-src 'self' 'unsafe-inline' https://fonts.googleapis.com; font-src 'self' https://fonts.gstatic.com; img-src 'self' data: https:; connect-src 'self' https://*.firebaseio.com https://*.googleapis.com https://*.gstatic.com https://firestore.googleapis.com wss://*.firebaseio.com; frame-src 'self' https://www.google.com https://recaptcha.google.com https://www.recaptcha.net;" />
    <!-- SECURITY: Referrer Policy (OWASP) -->
    <meta name="referrer" content="strict-origin-when-cross-origin" />
    <title>ISTE Club | Tech Activity Hub</title>
    <meta name="description"
        content="ISTE Club - Indian Society for Technical Education. Explore tech workshops, coding events, and join our vibrant tech community." />
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
        href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800&family=Outfit:wght@400;500;600;700;800&family=Playfair+Display:wght@400;500;600;700;800&display=swap"
        rel="stylesheet" />
    <!-- SECURITY: reCAPTCHA v3 for invisible bot protection -->
    <script src="https://www.google.com/recaptcha/api.js?render=6LeeoD8sAAAAAGKAdRH9D4ca5FHGsip-XXGcXOzM"></script>
    <link rel="stylesheet" href="css/index.css">
</head>


<body>
    <!-- Animated Background -->
    <div class="bg-animation">
        <div class="bg-orb bg-orb-1"></div>
        <div class="bg-orb bg-orb-2"></div>
        <div class="bg-orb bg-orb-3"></div>
    </div>

    <!-- ACCESSIBILITY: Skip to main content link -->
    <a href="#main-content" class="skip-link">Skip to main content</a>

    <!-- NAVBAR -->
    <nav id="navbar">
        <a href="#" class="logo">
            <img src="images/download.png" alt="ISTE Logo" />
            <div class="logo-text">
                <span>ISTE</span>
                <small>Indian Society for Technical Education</small>
            </div>
        </a>
        <div class="nav-links" id="navLinks">
            <a href="#" class="active">Home</a>
            <a href="#about">About</a>
            <a href="#activity">Events</a>
            <a href="#winners">Winners</a>
            <a href="#gallery">Gallery</a>
            <a href="admin.html" class="nav-cta">Admin</a>
        </div>
        <div class="hamburger" id="hamburger" onclick="toggleNav()" aria-label="Toggle navigation menu" role="button"
            tabindex="0">
            <span></span>
            <span></span>
            <span></span>
        </div>
    </nav>

    <!-- HERO SECTION -->
    <section class="hero" id="main-content">
        <div class="hero-content">
            <div class="hero-text">
                <h1>Welcome to <br><span class="gradient-text">ISTE Tech Hub</span></h1>
                <p class="hero-description">Join the most vibrant technical community. Participate in workshops,
                    hackathons, and coding challenges to level up your skills.</p>
                <div class="hero-buttons">
                    <a href="#activity" class="btn btn-primary">Explore Events ‚ú®</a>
                    <a href="#about" class="btn btn-secondary">Learn More</a>
                </div>
            </div>
            <div class="hero-image">
                <div class="hero-glow"></div>
                <div class="hero-shapes">
                    <div class="shape shape-1"></div>
                    <div class="shape shape-2"></div>
                    <div class="shape shape-3"></div>
                </div>
                <img src="images/hero_light.png" alt="ISTE Tech Hub" />
            </div>
        </div>
    </section>

    <!-- STATS BAR -->
    <section class="stats-bar reveal">
        <div class="stat-item">
            <div class="stat-number">500+</div>
            <div class="stat-label">Active Members</div>
        </div>
        <div class="stat-item">
            <div class="stat-number">25+</div>
            <div class="stat-label">Events Hosted</div>
        </div>
        <div class="stat-item">
            <div class="stat-number">15+</div>
            <div class="stat-label">Workshops</div>
        </div>
        <div class="stat-item">
            <div class="stat-number">100%</div>
            <div class="stat-label">Fun Guaranteed</div>
        </div>
    </section>

    <!-- ABOUT SECTION -->
    <section class="about reveal" id="about">
        <div class="section-header">
            <span class="section-tag">About Us</span>
            <h2 class="section-title">Why <span class="gradient-text">ISTE?</span></h2>
            <p class="section-subtitle">Empowering students through technology, innovation, and hands-on learning
                experiences.</p>
        </div>
        <div class="features-grid">
            <div class="feature-card">
                <div class="feature-icon">üí°</div>
                <h3>Innovation Hub</h3>
                <p>Explore cutting-edge technologies and develop innovative solutions to real-world problems.</p>
            </div>
            <div class="feature-card">
                <div class="feature-icon">üéØ</div>
                <h3>Skill Development</h3>
                <p>Enhance your technical skills through workshops, bootcamps, and hands-on projects.</p>
            </div>
            <div class="feature-card">
                <div class="feature-icon">ü§ù</div>
                <h3>Community</h3>
                <p>Connect with like-minded peers, mentors, and industry professionals.</p>
            </div>
        </div>
    </section>

    <!-- ACTIVITY SECTION -->
    <section class="activity reveal" id="activity">
        <div class="activity-content">
            <div class="activity-info">
                <span class="section-tag">Upcoming Event</span>
                <h2>Sketch Your App - <span class="gradient-text">Quick Draw UI Battle</span></h2>
                <div class="activity-details">
                    <div class="activity-detail">
                        <div class="activity-detail-icon">üìÖ</div>
                        <span>December 17, 2025 (Wednesday)</span>
                    </div>
                    <div class="activity-detail">
                        <div class="activity-detail-icon">üïê</div>
                        <span>2:30 PM</span>
                    </div>
                    <div class="activity-detail">
                        <div class="activity-detail-icon">üìç</div>
                        <span>N408, Department of ISE, TOCE</span>
                    </div>
                    <div class="activity-detail">
                        <div class="activity-detail-icon">üë•</div>
                        <span>Team Size: 2-3 Members</span>
                    </div>
                </div>
                <div class="register-btn-wrapper">
                    <span class="event-status-badge open" id="eventStatusBadge">üü¢ Open</span>
                    <button class="btn btn-primary" onclick="openModal()" id="registerBtn">Register Now üéâ</button>
                </div>
            </div>
            <div class="activity-poster">
                <img src="images/IMG-20251216-WA0008.jpg" alt="PromptQuest Event Poster" />
            </div>
        </div>
    </section>

    <!-- WINNERS SECTION -->
    <section class="winners reveal" id="winners">
        <div class="section-header">
            <span class="section-tag">Hall of Fame</span>
            <h2 class="section-title">Our <span class="gradient-text">Champions</span></h2>
            <p class="section-subtitle">Winners of Quick Draw UI Battle</p>
        </div>
        <!-- Dynamic Winners Grid - Populated from Firestore -->
        <div class="winners-grid" id="winnersGrid">
            <!-- Skeleton Loading States -->
            <div class="skeleton-wrapper" id="skeleton-1">
                <div class="skeleton skeleton-medal"></div>
                <div class="skeleton skeleton-text title" style="width: 80%;"></div>
                <div class="skeleton skeleton-text" style="width: 60%;"></div>
            </div>
            <div class="skeleton-wrapper" id="skeleton-2">
                <div class="skeleton skeleton-medal"></div>
                <div class="skeleton skeleton-text title" style="width: 80%;"></div>
                <div class="skeleton skeleton-text" style="width: 60%;"></div>
            </div>
            <div class="skeleton-wrapper" id="skeleton-3">
                <div class="skeleton skeleton-medal"></div>
                <div class="skeleton skeleton-text title" style="width: 80%;"></div>
                <div class="skeleton skeleton-text" style="width: 60%;"></div>
            </div>
            <!-- Actual Winner Cards (hidden until loaded) -->
            <div class="winner-card gold" id="winner-1" style="display: none;">
                <div class="winner-medal">ü•á</div>
                <h3 id="winner-1-name"></h3>
                <span class="event" id="winner-1-members"></span>
            </div>
            <div class="winner-card silver" id="winner-2" style="display: none;">
                <div class="winner-medal">ü•à</div>
                <h3 id="winner-2-name"></h3>
                <span class="event" id="winner-2-members"></span>
            </div>
            <div class="winner-card bronze" id="winner-3" style="display: none;">
                <div class="winner-medal">ü•â</div>
                <h3 id="winner-3-name"></h3>
                <span class="event" id="winner-3-members"></span>
            </div>
            <!-- Empty State -->
            <div class="empty-state" id="winnersEmpty" style="display: none;">
                <div class="empty-state-icon">üèÜ</div>
                <h3>No Winners Yet</h3>
                <p>Winners will be announced after the event concludes. Check back soon!</p>
            </div>
        </div>
    </section>

    <!-- GALLERY SECTION -->
    <section class="gallery reveal" id="gallery">
        <div class="section-header">
            <span class="section-tag">Gallery</span>
            <h2 class="section-title">Event <span class="gradient-text">Highlights</span></h2>
            <p class="section-subtitle">Relive the excitement from our past events.</p>
        </div>

        <div class="gallery-container">
            <button class="gallery-arrow gallery-arrow-left" id="galleryPrev" aria-label="Previous images">
                <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"
                    stroke-linecap="round" stroke-linejoin="round">
                    <polyline points="15 18 9 12 15 6"></polyline>
                </svg>
            </button>
            <div class="gallery-scroll" id="galleryScroll">
                <div class="gallery-item" onclick="openImage(this)">
                    <img src="images/Gallery.jpg" alt="Event Highlights" />
                    <div class="gallery-overlay">
                        <span>Event Highlights</span>
                    </div>
                </div>
                <div class="gallery-item" onclick="openImage(this)">
                    <img src="images/Gallery0.jpg" alt="Quick UI Battle" />
                    <div class="gallery-overlay">
                        <span>Quick UI Battle</span>
                    </div>
                </div>
                <div class="gallery-item" onclick="openImage(this)">
                    <img src="images/Gallery1.jpg" alt="Tech Workshop" />
                    <div class="gallery-overlay">
                        <span>Tech Workshop</span>
                    </div>
                </div>
                <div class="gallery-item" onclick="openImage(this)">
                    <img src="images/Gallery2.jpg" alt="Team Activities" />
                    <div class="gallery-overlay">
                        <span>Team Activities</span>
                    </div>
                </div>
                <div class="gallery-item" onclick="openImage(this)">
                    <img src="images/IMG-20251217-WA0028.jpg" alt="PromptQuest 2024" />
                    <div class="gallery-overlay">
                        <span>PromptQuest 2024</span>
                    </div>
                </div>
                <div class="gallery-item" onclick="openImage(this)">
                    <img src="images/IMG-20251217-WA0030.jpg" alt="Winners Ceremony" />
                    <div class="gallery-overlay">
                        <span>Winners Ceremony</span>
                    </div>
                </div>
                <!-- Empty State -->
                <div class="empty-state" id="galleryEmpty" style="display: none;">
                    <div class="empty-state-icon">üì∏</div>
                    <h3>Gallery Coming Soon</h3>
                    <p>Event photos and highlights will be added here after the event.</p>
                </div>
            </div>
            <button class="gallery-arrow gallery-arrow-right" id="galleryNext" aria-label="Next images">
                <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"
                    stroke-linecap="round" stroke-linejoin="round">
                    <polyline points="9 18 15 12 9 6"></polyline>
                </svg>
            </button>
        </div>
    </section>

    <!-- FOOTER -->
    <footer>
        <div class="footer-content">
            <div class="footer-section">
                <h4>ISTE TOCE</h4>
                <p>Indian Society for Technical Education - The Oxford College of Engineering Chapter</p>
            </div>
            <div class="footer-section">
                <h4>Quick Links</h4>
                <a href="#about">About Us</a>
                <a href="#activity">Events</a>
                <a href="#winners">Winners</a>
                <a href="#gallery">Gallery</a>
            </div>
            <div class="footer-section">
                <h4>Contact</h4>
                <p>üìß ISTE.TOCE@gmail.com</p>
                <p>üìç The Oxford College of Engineering, Bangalore</p>
            </div>
        </div>
        <div class="footer-bottom">
            <p>¬© 2024 ISTE TOCE. Made with üíú by the Tech Team</p>
        </div>
    </footer>

    <!-- IMAGE MODAL -->
    <div class="image-modal" id="imageModal">
        <button class="modal-close" onclick="closeImageModal()">‚úï</button>
        <img src="" alt="Full View" id="modalImage" />
    </div>

    <!-- SUCCESS MODAL WITH CONFETTI -->
    <div class="success-modal-overlay" id="successModal">
        <div class="success-modal">
            <div class="success-icon">üéâ</div>
            <h2>Registration Successful!</h2>
            <div class="success-summary">
                <p><strong>Team:</strong> <span id="successTeamName">Code Crushers</span></p>
                <p><strong>Event:</strong> <span id="successEventName">Quick Draw UI Battle</span></p>
                <p><strong>Members:</strong> <span id="successMemberCount">3 members registered</span></p>
            </div>
            <p class="success-note">üìß A confirmation email will be sent to your team email.</p>
            <button class="btn btn-primary" onclick="closeSuccessModal()">Done ‚úì</button>
        </div>
    </div>
    <div class="confetti-container" id="confettiContainer"></div>

    <!-- REGISTRATION MODAL -->
    <div class="modal" id="formModal" role="dialog" aria-modal="true" aria-labelledby="modal-title">
        <div class="modal-content">
            <div class="modal-header">
                <h3 id="modal-title">üéØ Event Registration</h3>
                <button onclick="closeModal()" aria-label="Close modal">‚úï</button>
            </div>
            <div class="modal-body">
                <div class="form-success" id="formSuccess">
                    <div class="success-icon">üéâ</div>
                    <h4>Registration Successful!</h4>
                    <p>Your team has been registered. We'll contact you soon!</p>
                </div>
                <form class="reg-form" id="registrationForm">
                    <!-- SECURITY: Rate limiting is active but hidden from users to avoid confusion -->
                    <div class="form-section">
                        <div class="form-section-title">üìß Team Contact</div>
                        <div class="form-row single">
                            <div class="form-group">
                                <label>Team Email <span class="required">*</span></label>
                                <!-- SECURITY: maxlength prevents buffer overflow, pattern validates format -->
                                <input type="email" id="teamEmail" placeholder="team@email.com" required maxlength="100"
                                    autocomplete="email">
                                <span class="field-error" id="teamEmailError" style="display: none;">‚ö†Ô∏è This email is
                                    already registered for this event</span>
                            </div>
                        </div>
                        <div class="form-row single">
                            <div class="form-group">
                                <label>Team Name <span class="required">*</span></label>
                                <!-- SECURITY: pattern restricts to alphanumeric + spaces only -->
                                <input type="text" id="teamName" placeholder="e.g. Code Crushers" required
                                    maxlength="50" pattern="[A-Za-z0-9 ]+"
                                    title="Only letters, numbers, and spaces allowed">
                                <small id="teamNameError" style="color: #ef4444; font-size: 12px; display: none;">This
                                    team name is already taken!</small>
                            </div>
                        </div>
                    </div>

                    <div class="form-section">
                        <div class="form-section-title"><span class="member-badge">1</span> Team Member 1 <span
                                class="required">*</span></div>
                        <div class="form-row">
                            <div class="form-group">
                                <label>Name <span class="required">*</span></label>
                                <!-- SECURITY: pattern allows letters and spaces only -->
                                <input type="text" id="member1Name" placeholder="Full Name" required maxlength="50"
                                    pattern="[A-Za-z ]+" title="Only letters and spaces allowed">
                            </div>
                            <div class="form-group">
                                <label>USN / Roll No <span class="required">*</span></label>
                                <!-- SECURITY: USN format validation -->
                                <input type="text" id="member1USN" placeholder="1OX00XX000" required maxlength="15"
                                    pattern="1[A-Za-z]{2}[0-9]{2}[A-Za-z]{2}[0-9]{3}"
                                    title="Format: 1XX00XX000 (e.g., 1CR23CS001)" style="text-transform: uppercase;">
                                <span class="field-error" id="member1USNError" style="display: none;">‚ö†Ô∏è This USN is
                                    already registered for this event</span>
                            </div>
                            <div class="form-group">
                                <label>Department <span class="required">*</span></label>
                                <select id="member1Dept" required>
                                    <option value="">Select Dept</option>
                                    <option value="ISE">ISE</option>
                                    <option value="CSE">CSE</option>
                                    <option value="AIML">AIML</option>
                                    <option value="AI&DS">AI&DS</option>
                                    <option value="ECE">ECE</option>
                                    <option value="EEE">EEE</option>
                                    <option value="CV">CV</option>
                                    <option value="ME">ME</option>
                                    <option value="Mechatronics">Mechatronics</option>
                                    <option value="Other">Other</option>
                                </select>
                            </div>
                            <div class="form-group">
                                <label>Semester <span class="required">*</span></label>
                                <select id="member1Sem" required>
                                    <option value="">Select Sem</option>
                                    <option value="1">1st Sem</option>
                                    <option value="2">2nd Sem</option>
                                    <option value="3">3rd Sem</option>
                                    <option value="4">4th Sem</option>
                                    <option value="5">5th Sem</option>
                                    <option value="6">6th Sem</option>
                                    <option value="7">7th Sem</option>
                                    <option value="8">8th Sem</option>
                                </select>
                            </div>
                        </div>
                    </div>

                    <div class="form-section">
                        <div class="form-section-title"><span class="member-badge">2</span> Team Member 2</div>
                        <div class="form-row">
                            <div class="form-group">
                                <label>Name</label>
                                <input type="text" id="member2Name" placeholder="Full Name" maxlength="50"
                                    pattern="[A-Za-z ]*" title="Only letters and spaces allowed">
                            </div>
                            <div class="form-group">
                                <label>USN / Roll No</label>
                                <input type="text" id="member2USN" placeholder="1OX00XX000" maxlength="15"
                                    pattern="(1[A-Za-z]{2}[0-9]{2}[A-Za-z]{2}[0-9]{3})?" title="Format: 1XX00XX000"
                                    style="text-transform: uppercase;">
                                <span class="field-error" id="member2USNError" style="display: none;">‚ö†Ô∏è This USN is
                                    already registered for this event</span>
                            </div>
                            <div class="form-group">
                                <label>Department</label>
                                <select id="member2Dept">
                                    <option value="">Select Dept</option>
                                    <option value="ISE">ISE</option>
                                    <option value="CSE">CSE</option>
                                    <option value="AIML">AIML</option>
                                    <option value="AI&DS">AI&DS</option>
                                    <option value="ECE">ECE</option>
                                    <option value="EEE">EEE</option>
                                    <option value="CV">CV</option>
                                    <option value="ME">ME</option>
                                    <option value="Mechatronics">Mechatronics</option>
                                    <option value="Other">Other</option>
                                </select>
                            </div>
                            <div class="form-group">
                                <label>Semester</label>
                                <select id="member2Sem">
                                    <option value="">Select Sem</option>
                                    <option value="1">1st Sem</option>
                                    <option value="2">2nd Sem</option>
                                    <option value="3">3rd Sem</option>
                                    <option value="4">4th Sem</option>
                                    <option value="5">5th Sem</option>
                                    <option value="6">6th Sem</option>
                                    <option value="7">7th Sem</option>
                                    <option value="8">8th Sem</option>
                                </select>
                            </div>
                        </div>
                    </div>

                    <div class="form-section">
                        <div class="form-section-title"><span class="member-badge">3</span> Team Member 3</div>
                        <div class="form-row">
                            <div class="form-group">
                                <label>Name</label>
                                <input type="text" id="member3Name" placeholder="Full Name" maxlength="50"
                                    pattern="[A-Za-z ]*" title="Only letters and spaces allowed">
                            </div>
                            <div class="form-group">
                                <label>USN / Roll No</label>
                                <input type="text" id="member3USN" placeholder="1OX00XX000" maxlength="15"
                                    pattern="(1[A-Za-z]{2}[0-9]{2}[A-Za-z]{2}[0-9]{3})?" title="Format: 1XX00XX000"
                                    style="text-transform: uppercase;">
                                <span class="field-error" id="member3USNError" style="display: none;">‚ö†Ô∏è This USN is
                                    already registered for this event</span>
                            </div>
                            <div class="form-group">
                                <label>Department</label>
                                <select id="member3Dept">
                                    <option value="">Select Dept</option>
                                    <option value="ISE">ISE</option>
                                    <option value="CSE">CSE</option>
                                    <option value="AIML">AIML</option>
                                    <option value="AI&DS">AI&DS</option>
                                    <option value="ECE">ECE</option>
                                    <option value="EEE">EEE</option>
                                    <option value="CV">CV</option>
                                    <option value="ME">ME</option>
                                    <option value="Mechatronics">Mechatronics</option>
                                    <option value="Other">Other</option>
                                </select>
                            </div>
                            <div class="form-group">
                                <label>Semester</label>
                                <select id="member3Sem">
                                    <option value="">Select Sem</option>
                                    <option value="1">1st Sem</option>
                                    <option value="2">2nd Sem</option>
                                    <option value="3">3rd Sem</option>
                                    <option value="4">4th Sem</option>
                                    <option value="5">5th Sem</option>
                                    <option value="6">6th Sem</option>
                                    <option value="7">7th Sem</option>
                                    <option value="8">8th Sem</option>
                                </select>
                            </div>
                        </div>
                    </div>

                    <!-- Consent Checkbox -->
                    <div class="consent-wrapper">
                        <label class="consent-checkbox">
                            <input type="checkbox" id="consentCheck" required>
                            <span class="consent-checkmark"></span>
                        </label>
                        <span class="consent-text">
                            I agree to the <a href="#" onclick="return false;">event rules</a> and understand that my
                            team's information
                            will be used for registration purposes only.
                        </span>
                    </div>

                    <button type="submit" class="submit-btn" id="submitBtn">
                        <span class="btn-text">Register Team üöÄ</span>
                        <div class="spinner"></div>
                    </button>
                </form>
            </div>
        </div>
    </div>

    <script src="https://www.gstatic.com/firebasejs/10.7.0/firebase-app-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/10.7.0/firebase-firestore-compat.js"></script>
    <script src="config.js"></script>
    <!-- SECURITY: Security module with rate limiting, validation, sanitization -->
    <script src="security.js"></script>
    <script src="js/index.js"></script>
</body>

</html>

